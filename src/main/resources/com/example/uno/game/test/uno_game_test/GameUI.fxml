<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane id="gameBackground" prefHeight="690.0" prefWidth="900.0" stylesheets="@css/styles.css" xmlns="http://javafx.com/javafx/11.0.14-internal" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.uno.game.test.uno_game_test.GameController">
    <top>
        <VBox alignment="CENTER" styleClass="header-section">
            <HBox alignment="CENTER" spacing="30" styleClass="game-info">
                <Label text="Current Player:" />
                <Label fx:id="currentPlayerLabel" styleClass="highlight-text" text="Player 1" />
                <Separator orientation="VERTICAL" />
                <Label text="Direction:" />
            <Label fx:id="directionIndicator" layoutX="315.0" layoutY="14.0" styleClass="highlight-text" text="Clockwise" />
                <Separator orientation="VERTICAL" />
                <Label text="Cards Left:" />
                <Label fx:id="cardsLeftCount" styleClass="highlight-text" text="00" />
            </HBox>
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
        </VBox>
    </top>

    <center>
        <VBox fx:id="gamePane" alignment="CENTER" spacing="20" styleClass="game-area">
            <padding>
                <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
            </padding>

            <!-- Opponents Section -->
            <HBox fx:id="opponentArea" alignment="CENTER" spacing="10" styleClass="opponent-section">
                <padding>
                    <Insets bottom="10.0" top="10.0" />
                </padding>

                <VBox alignment="CENTER" spacing="5" styleClass="opponent-container">
                    <Label styleClass="player-name" text="Opponent 1" />
                    <HBox fx:id="opponent1Hand" alignment="CENTER" spacing="2" styleClass="card-hand" />
                    <Label fx:id="opponent1CardCount" text="7 cards" />
                </VBox>

                <VBox alignment="CENTER" spacing="5" styleClass="opponent-container">
                    <Label styleClass="player-name" text="Opponent 2" />
                    <HBox fx:id="opponent2Hand" alignment="CENTER" spacing="2" styleClass="card-hand" />
                    <Label fx:id="opponent2CardCount" text="7 cards" />
                </VBox>

                <VBox alignment="CENTER" spacing="5" styleClass="opponent-container">
                    <Label styleClass="player-name" text="Opponent 3" />
                    <HBox fx:id="opponent3Hand" alignment="CENTER" spacing="2" styleClass="card-hand" />
                    <Label fx:id="opponent3CardCount" text="7 cards" />
                </VBox>
            </HBox>

            <!-- Game Table Section -->
            <StackPane styleClass="game-table">
                <HBox alignment="CENTER" spacing="50">
                    <!-- Deck -->
                    <VBox alignment="CENTER" spacing="5" styleClass="card-pile">
                        <Label styleClass="pile-label" text="DRAW PILE" />
                        <StackPane styleClass="deck-container">
                            <ImageView fx:id="deckView" fitHeight="160" fitWidth="110" preserveRatio="true" styleClass="card-image" />
                            <Label fx:id="deckCountLabel" styleClass="deck-count" text="52" />
                        </StackPane>
                        <Button fx:id="drawCardBtn" styleClass="game-button" text="Draw Card" />
                    </VBox>

                    <!-- Discard Pile -->
                    <VBox alignment="CENTER" spacing="5" styleClass="card-pile">
                        <Label styleClass="pile-label" text="DISCARD PILE" />
                        <StackPane styleClass="discard-container">
                            <ImageView fx:id="discardPileView" fitHeight="160" fitWidth="110" preserveRatio="true" styleClass="card-image">
                                <effect>
                                    <DropShadow />
                                </effect>
                            </ImageView>
                        </StackPane>
                    </VBox>
                </HBox>

                <!-- Game status overlay -->
                <VBox fx:id="statusOverlay" alignment="CENTER" styleClass="status-overlay" visible="false">
                    <Label fx:id="statusOverlayLabel" styleClass="overlay-text" text="SKIP!" />
                </VBox>
            </StackPane>

            <!-- Game action section -->
            <HBox alignment="CENTER" spacing="15" styleClass="action-area">
                <Button fx:id="unoButton" styleClass="uno-button" text="UNO!" />
                <Button fx:id="skipButton" styleClass="game-button" text="Skip Turn" />
                <Button fx:id="challengeButton" styleClass="game-button" text="Challenge" />
            </HBox>

            <!-- Current status section -->
            <HBox alignment="CENTER" styleClass="status-section">
                <Label fx:id="statusLabel" styleClass="status-text" text="Your turn! Play a card or draw from the deck." />
            </HBox>

            <!-- Player Hand Section -->
            <VBox spacing="5" styleClass="player-section">
                <Label styleClass="player-name" text="Your Hand" />
                <ScrollPane fx:id="yourHandScrollPane" fitToWidth="true" hbarPolicy="AS_NEEDED" styleClass="hand-scroll" vbarPolicy="NEVER">
                    <HBox fx:id="playerHand" alignment="CENTER" spacing="10" styleClass="player-hand" />
                </ScrollPane>
            </VBox>
        </VBox>
    </center>

    <bottom>
        <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="footer">
            <Button fx:id="settingsBtn" styleClass="icon-button" text="⚙️" />
            <Button fx:id="helpBtn" styleClass="icon-button" text="❓" />
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
        </HBox>
    </bottom>
</BorderPane>